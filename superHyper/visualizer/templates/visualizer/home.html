{% extends "visualizer/header.html" %}

{% block content %}
<!-- <div class="collapse" id="collapseURL"> -->
<div class="row">
    <div class="well well-sm">
        <form method="POST" action=''> {% csrf_token %}
            {{ form.as_p }} <input type='submit' value'visualize it'/>
        </form>
    </div>
</div>
    <script src="static/visualizer/js/three.min.js"></script>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    
<div id ="webGL-container">

    <script>
    // instantiate a loader
        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );

        var renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        // var geometry = new THREE.BoxGeometry( 1, 1, 1 );
        // var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
        // var cube = new THREE.Mesh( geometry, material );
        // scene.add( cube );

        camera.position.z = 5;

        // var render = function () {
        //     requestAnimationFrame( render );

        //     cube.rotation.x += 0.1;
        //     cube.rotation.y += 0.1;

        //     renderer.render(scene, camera);
        // };

        
        var loader = new THREE.ObjectLoader();
        var modelURL = "static/visualizer/js/Visualizer.json"


        // load a resource
        loader.load(modelURL,
        // Function when resource is loaded
        function ( geometry, materials ) {
            var material = new THREE.MultiMaterial( materials );
            var object = new THREE.Mesh( geometry, material );
            scene.add( object );
    }
);
        // renderer.render(scene, camera);
        var render = function () {
            requestAnimationFrame( render );

            // cube.rotation.x += 0.1;
            // cube.rotation.y += 0.1;

            renderer.render(scene, camera);
        };

        render();
    </script>
</div>


<!--     <div class="progress">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100" style="width: 45%">
            <span class="sr-only">45% Complete</span>
        </div>
    </div> -->
<!-- </div> -->
{% endblock %} 